<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Carnaval Cádiz</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css" rel="stylesheet" />
    <script src='main.js'></script>
</head>

<body>
    <div id="map" style="display: none;width: 100%; height: 1000px"></div>

    <div class="list">
        <div class="wrapper">
            <div class="box">
                <div class="row">
                    <div class="img"></div>
                    <div class="column">
                        <span>Nombre agrupación</span>
                        <span>Posición: Semifinalista</span>
                    </div>
                </div>
                <span>Lugar: Calle Huerta del Obispo</span>
                <span>Horario: 18:00 - 18:30</span>
            </div>
        </div>
    </div>
</body>


<script>
    const geojson = {
        'type': 'FeatureCollection',
        'features': [
            {
                'type': 'Feature',
                'properties': {
                    'message': 'Foo',
                    'iconSize': [60, 60]
                },
                'geometry': {
                    'type': 'Point',
                    'coordinates': [-6.2809909, 36.5158003]
                }
            },
        ]
    };

    const map = new maplibregl.Map({
        container: 'map',
        style:
            'https://tiles.openfreemap.org/styles/liberty',
        center: [-6.2809909, 36.5113303],
        zoom: 16
    });

    // add markers to map
    geojson.features.forEach((marker) => {
        // create a DOM element for the marker
        const el = document.createElement('div');
        el.className = 'marker';
        el.style.backgroundImage = `url(https://picsum.photos/${marker.properties.iconSize.join('/')}/)`;
        el.style.width = `${marker.properties.iconSize[0]}px`;
        el.style.height = `${marker.properties.iconSize[1]}px`;

        el.addEventListener('click', () => {
            window.alert(marker.properties.message);
        });

        // add marker to map
        new maplibregl.Marker({ element: el })
            .setLngLat(marker.geometry.coordinates)
            .addTo(map);
    });
</script>

</html>